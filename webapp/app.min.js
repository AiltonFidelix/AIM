$(document).ready(function () { startSensorInterval(); getStorageInterval(); $("#save").on("click", function () { setStorageInterval(); }); }); function getSensorValues() { $.getJSON('/sensorValues.json', function (data) { $("#pitch_reading").text(data["pitch"]); $("#roll_reading").text(data["roll"]); $("#yaw_reading").text(data["yaw"]); $("#temperature_reading").text(data["temperature"]); }); } function startSensorInterval() { setInterval(getSensorValues, 2000); } function getStorageInterval() { $.getJSON('/getInterval.json', function (data) { $("#interval").val(data["interval"]); }); } function setStorageInterval() { interval = $("#interval").val(); $.ajax({ url: '/setInterval.json', dataType: 'json', method: 'POST', cache: false, headers: { 'interval': interval }, data: { 'timestamp': Date.now() } }); window.alert('Successful save interval!'); }